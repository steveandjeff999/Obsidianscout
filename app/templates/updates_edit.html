{% extends 'base.html' %}
{% block title %}{{ 'Edit' if post else 'Create' }} Update{% endblock %}
{% block heading %}{{ 'Edit' if post else 'Create' }} Update{% endblock %}
{% block content %}
<div class="container py-4">
  <form method="post">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div class="mb-3">
      <label class="form-label">Title</label>
      <input name="title" class="form-control" value="{{ post.title if post }}" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Date</label>
      <input name="date" class="form-control" placeholder="YYYY-MM-DD" value="{{ post.date if post }}">
    </div>
    <div class="mb-3">
      <label class="form-label">Excerpt</label>
      <textarea name="excerpt" class="form-control" rows="2">{{ post.excerpt if post }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">Body (Markdown)</label>
      <textarea name="body" class="form-control" rows="10">{{ post.body if post }}</textarea>
    </div>
    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" id="published" name="published" {% if not post or post.published %}checked{% endif %}>
      <label class="form-check-label" for="published">Published</label>
    </div>
    <div class="d-flex gap-2">
      <button class="btn btn-primary">Save</button>
      <a class="btn btn-secondary" href="{{ url_for('main.manage_updates') }}">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
